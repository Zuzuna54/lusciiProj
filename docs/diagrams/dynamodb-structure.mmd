erDiagram
    %% DynamoDB Table Structure for Notes API
    NOTES {
        string id PK "UUID - Partition Key"
        string content "Note content"
        string createdAt "ISO timestamp"
        string updatedAt "ISO timestamp"
        string userId "User ID (for future auth integration)"
        string tags "Optional tags - comma separated"
        string status "Active/Archived/Deleted"
    }

    %% GSI for queries by user ID
    NOTES_BY_USER {
        string userId PK "GSI Partition Key"
        string createdAt SK "GSI Sort Key"
        string id "Original PK"
        string content "Note content"
        string updatedAt "ISO timestamp"
        string tags "Optional tags - comma separated"
        string status "Active/Archived/Deleted"
    }

    %% GSI for queries by status (for admin purposes)
    NOTES_BY_STATUS {
        string status PK "GSI Partition Key"
        string createdAt SK "GSI Sort Key"
        string id "Original PK"
        string userId "User ID"
        string content "Note content"
        string updatedAt "ISO timestamp"
        string tags "Optional tags - comma separated"
    }

    %% Relationships between the main table and GSIs
    NOTES ||--|| NOTES_BY_USER : "GSI-1"
    NOTES ||--|| NOTES_BY_STATUS : "GSI-2" 